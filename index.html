<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema LSAF - Fuerza Aérea</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a365d;
            --secondary: #2d3748;
            --accent: #e53e3e;
            --light: #f7fafc;
            --dark: #2d3748;
            --success: #38a169;
            --warning: #dd6b20;
            --danger: #e53e3e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background: var(--primary);
            color: white;
            transition: all 0.3s;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .sidebar-header {
            padding: 20px;
            background: var(--secondary);
            text-align: center;
        }
        
        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .sidebar-menu {
            padding: 15px 0;
        }
        
        .sidebar-menu ul {
            list-style: none;
        }
        
        .sidebar-menu li {
            margin-bottom: 5px;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .sidebar-menu a:hover, .sidebar-menu a.active {
            background: rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--accent);
        }
        
        .sidebar-menu i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .content {
            padding: 30px;
            flex: 1;
            overflow-y: auto;
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .card-header {
            padding: 15px 20px;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-body {
            padding: 20px;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        /* Buttons */
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 5px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
        }
        
        /* Tables */
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th, .table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .table th {
            background: #f8f9fa;
            font-weight: 600;
        }
        
        .table tr:hover {
            background: #f8f9fa;
        }
        
        /* Login */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .login-box {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
        }
        
        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-logo h1 {
            color: var(--primary);
            font-size: 2rem;
        }
        
        /* Pilot List */
        .pilot-card {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .pilot-card:last-child {
            border-bottom: none;
        }
        
        .pilot-rank {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f0f0;
            border-radius: 50%;
        }
        
        .pilot-info {
            flex: 1;
        }
        
        .pilot-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .pilot-nuim {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-success {
            background: #e6fffa;
            color: var(--success);
        }
        
        .badge-danger {
            background: #fed7d7;
            color: var(--danger);
        }
        
        .badge-warning {
            background: #feebc8;
            color: var(--warning);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Aircraft Grid */
        .aircraft-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .aircraft-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .aircraft-card:hover {
            transform: translateY(-5px);
        }
        
        .aircraft-image {
            height: 150px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
        }
        
        .aircraft-info {
            padding: 15px;
        }
        
        .aircraft-callsign {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .aircraft-model {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Login View -->
    <div id="loginView" class="login-container">
        <div class="login-box">
            <div class="login-logo">
                <h1><i class="fas fa-plane"></i> LSAF</h1>
                <p>Sistema de Gestión de la Fuerza Aérea</p>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Usuario</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                </button>
            </form>
            <div style="text-align: center; margin-top: 20px;">
                <p>Usuario demo: <strong>admin</strong></p>
                <p>Contraseña demo: <strong>lsaf2024</strong></p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="appView" class="container" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-plane"></i> LSAF</h2>
                <p>Sistema de Gestión</p>
            </div>
            <div class="sidebar-menu">
                <ul>
                    <li><a href="#" class="active" data-view="pilotsView"><i class="fas fa-users"></i> Pilotos</a></li>
                    <li><a href="#" data-view="aircraftView"><i class="fas fa-fighter-jet"></i> Aeronaves</a></li>
                    <li><a href="#" data-view="flightLogsView"><i class="fas fa-book"></i> Libros de Vuelo</a></li>
                    <li><a href="#" data-view="requestsView"><i class="fas fa-file-alt"></i> Solicitudes</a></li>
                    <li><a href="#" data-view="summaryView"><i class="fas fa-chart-bar"></i> Resumen</a></li>
                    <li><a href="#" data-view="ranksView"><i class="fas fa-star"></i> Rangos</a></li>
                    <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1 id="pageTitle">Pilotos</h1>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin+LSAF&background=0D8ABC&color=fff" alt="Usuario">
                    <div>
                        <div id="userName">Administrador</div>
                        <div style="font-size: 0.8rem; color: #666;">Rango: General</div>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- Pilots View -->
                <div id="pilotsView" class="view">
                    <div class="card">
                        <div class="card-header">
                            <h3>Lista de Pilotos</h3>
                            <button class="btn btn-primary" id="addPilotBtn">
                                <i class="fas fa-plus"></i> AGREGAR PILOTO
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="pilotsList">
                                <!-- Pilots will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Aircraft View -->
                <div id="aircraftView" class="view" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Aeronaves</h3>
                            <button class="btn btn-primary" id="addAircraftBtn">
                                <i class="fas fa-plus"></i> AGREGAR AERONAVE
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="aircraft-grid" id="aircraftList">
                                <!-- Aircraft will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flight Logs View -->
                <div id="flightLogsView" class="view" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Libros de Vuelo</h3>
                            <button class="btn btn-primary" id="addFlightLogBtn">
                                <i class="fas fa-plus"></i> REGISTRAR LIBRO DE VUELO
                            </button>
                        </div>
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Libro de Vuelo</th>
                                        <th>Aeronave</th>
                                        <th>Fecha</th>
                                        <th>Piloto</th>
                                        <th>Tiempo Total</th>
                                    </tr>
                                </thead>
                                <tbody id="flightLogsTable">
                                    <!-- Flight logs will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Requests View -->
                <div id="requestsView" class="view" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Solicitudes de Certificación</h3>
                            <button class="btn btn-primary" id="addRequestBtn">
                                <i class="fas fa-plus"></i> SOLICITAR CERTIFICACIÓN
                            </button>
                        </div>
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Solicitud</th>
                                        <th>Piloto</th>
                                        <th>Aeronave</th>
                                        <th>Fecha</th>
                                        <th>Disponibilidad</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="requestsTable">
                                    <!-- Requests will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Summary View -->
                <div id="summaryView" class="view" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Resumen General</h3>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Líder</label>
                                    <input type="text" value="General John Doe" readonly>
                                </div>
                                <div class="form-group">
                                    <label>Fecha de Asunción</label>
                                    <input type="text" value="15/03/2023" readonly>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Misión</label>
                                <textarea rows="3" readonly>Proteger el espacio aéreo nacional y apoyar operaciones de defensa.</textarea>
                            </div>
                            <div class="form-group">
                                <label>Visión</label>
                                <textarea rows="3" readonly>Ser la fuerza aérea más moderna y eficiente de la región.</textarea>
                            </div>
                            <div class="form-group">
                                <label>Tiempo Total de Vuelo</label>
                                <input type="text" value="1,250 horas" readonly>
                            </div>
                            <h4 style="margin: 20px 0 10px;">Tiempos por Aeronave</h4>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Aeronave</th>
                                        <th>Tiempo Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>F-16 Fighting Falcon</td>
                                        <td>450 horas</td>
                                    </tr>
                                    <tr>
                                        <td>C-130 Hercules</td>
                                        <td>320 horas</td>
                                    </tr>
                                    <tr>
                                        <td>UH-60 Black Hawk</td>
                                        <td>280 horas</td>
                                    </tr>
                                    <tr>
                                        <td>T-6 Texan II</td>
                                        <td>200 horas</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Ranks View -->
                <div id="ranksView" class="view" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Rangos</h3>
                            <button class="btn btn-primary" id="addRankBtn">
                                <i class="fas fa-plus"></i> AGREGAR RANGO
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="aircraft-grid" id="ranksList">
                                <!-- Ranks will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Pilot Modal -->
    <div id="addPilotModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Agregar Piloto</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPilotForm">
                    <div class="form-group">
                        <label for="pilotName">PILOTO</label>
                        <input type="text" id="pilotName" required>
                    </div>
                    <div class="form-group">
                        <label for="pilotEmail">EMAIL</label>
                        <input type="email" id="pilotEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="pilotNUIM">NUIM</label>
                        <input type="text" id="pilotNUIM" required>
                    </div>
                    <div class="form-group">
                        <label for="pilotJoinDate">FECHA DE INGRESO</label>
                        <input type="date" id="pilotJoinDate" required>
                    </div>
                    <div class="form-group">
                        <label for="pilotRole">ROL</label>
                        <select id="pilotRole" required>
                            <option value="">Seleccione un rol</option>
                            <option value="ADMIN">ADMIN</option>
                            <option value="INSTRUCTOR">INSTRUCTOR</option>
                            <option value="PILOTO">PILOTO</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pilotStatus">ESTADO</label>
                        <select id="pilotStatus" required>
                            <option value="ACTIVO">ACTIVO</option>
                            <option value="ARCHIVADO">ARCHIVADO</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelPilotBtn">CANCELAR REGISTRO</button>
                <button class="btn btn-success" id="savePilotBtn">GUARDAR PILOTO</button>
            </div>
        </div>
    </div>

    <!-- Add Aircraft Modal -->
    <div id="addAircraftModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Agregar Aeronave</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addAircraftForm">
                    <div class="form-group">
                        <label for="aircraftCallsign">CALLSIGN</label>
                        <input type="text" id="aircraftCallsign" required>
                    </div>
                    <div class="form-group">
                        <label for="aircraftModel">MODELO</label>
                        <input type="text" id="aircraftModel" required>
                    </div>
                    <div class="form-group">
                        <label for="aircraftImage">IMAGEN</label>
                        <input type="file" id="aircraftImage" accept="image/jpeg, image/png">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelAircraftBtn">CANCELAR</button>
                <button class="btn btn-success" id="saveAircraftBtn">GUARDAR AERONAVE</button>
            </div>
        </div>
    </div>

    <!-- Add Flight Log Modal -->
    <div id="addFlightLogModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Registrar Libro de Vuelo</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addFlightLogForm">
                    <div class="form-group">
                        <label for="flightLogNumber">LIBRO DE VUELO</label>
                        <input type="text" id="flightLogNumber" value="FZ-00001" readonly>
                    </div>
                    <div class="form-group">
                        <label for="flightLogPilot">PILOTO</label>
                        <input type="text" id="flightLogPilot" value="Administrador" readonly>
                    </div>
                    <div class="form-group">
                        <label for="flightLogAircraft">AERONAVE</label>
                        <select id="flightLogAircraft" required>
                            <option value="">Seleccione una aeronave</option>
                            <option value="F-16">F-16 Fighting Falcon</option>
                            <option value="C-130">C-130 Hercules</option>
                            <option value="UH-60">UH-60 Black Hawk</option>
                            <option value="T-6">T-6 Texan II</option>
                        </select>
                        <div style="margin-top: 5px;">
                            <button type="button" class="btn btn-warning btn-sm">
                                <i class="fas fa-certificate"></i> SOLICITAR CERTIFICACIÓN
                            </button>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="flightLogTakeoff">HORA DESPEGUE</label>
                            <input type="datetime-local" id="flightLogTakeoff" required>
                        </div>
                        <div class="form-group">
                            <label for="flightLogLanding">HORA ATERRIZAJE</label>
                            <input type="datetime-local" id="flightLogLanding" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="flightLogTotalTime">TIEMPO TOTAL</label>
                        <input type="text" id="flightLogTotalTime" readonly>
                    </div>
                    <div class="form-group">
                        <label for="flightLogRoute">RUTA</label>
                        <input type="text" id="flightLogRoute" required>
                    </div>
                    <div class="form-group">
                        <label for="flightLogReason">MOTIVO</label>
                        <input type="text" id="flightLogReason" required>
                    </div>
                    <div class="form-group">
                        <label for="flightLogObservations">OBSERVACIONES</label>
                        <textarea id="flightLogObservations" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelFlightLogBtn">CANCELAR</button>
                <button class="btn btn-success" id="saveFlightLogBtn">ENVIAR LIBRO DE VUELO</button>
            </div>
        </div>
    </div>

    <!-- Add Request Modal -->
    <div id="addRequestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Solicitar Certificación</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addRequestForm">
                    <div class="form-group">
                        <label for="requestNumber">SOLICITUD</label>
                        <input type="text" id="requestNumber" value="AETC-00001" readonly>
                    </div>
                    <div class="form-group">
                        <label for="requestPilot">PILOTO</label>
                        <input type="text" id="requestPilot" value="Administrador" readonly>
                    </div>
                    <div class="form-group">
                        <label for="requestNUIM">NUIM</label>
                        <input type="text" id="requestNUIM" value="LSF-001" readonly>
                    </div>
                    <div class="form-group">
                        <label for="requestRank">RANGO</label>
                        <input type="text" id="requestRank" value="General" readonly>
                    </div>
                    <div class="form-group">
                        <label for="requestDate">FECHA</label>
                        <input type="text" id="requestDate" value="25/06/2024" readonly>
                    </div>
                    <div class="form-group">
                        <label for="requestAircraft">AERONAVE</label>
                        <select id="requestAircraft" required>
                            <option value="">Seleccione una aeronave</option>
                            <option value="F-16">F-16 Fighting Falcon</option>
                            <option value="C-130">C-130 Hercules</option>
                            <option value="UH-60">UH-60 Black Hawk</option>
                            <option value="T-6">T-6 Texan II</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="requestAvailability">DISPONIBILIDAD</label>
                        <textarea id="requestAvailability" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <p>Indique si está de acuerdo con la <a href="https://docs.google.com/document/d/1KatX3AWuzmWhmYO-Z-SyaedXsY6YgsgE1_tB9AcaQ4c/edit?usp=drive_link" target="_blank">CARTA DE COMPROMISO</a></p>
                        <div class="btn-group">
                            <button type="button" class="btn btn-success" id="agreeBtn">SI</button>
                            <button type="button" class="btn btn-danger" id="disagreeBtn">NO</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelRequestBtn">CANCELAR</button>
                        <button class="btn btn-success" id="saveRequestBtn" disabled>GUARDAR</button>
            </div>
        </div>
    </div>

    <!-- Add Rank Modal -->
    <div id="addRankModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Agregar Rango</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addRankForm">
                    <div class="form-group">
                        <label for="rankImage">IMAGEN</label>
                        <input type="file" id="rankImage" accept="image/jpeg, image/png">
                    </div>
                    <div class="form-group">
                        <label for="rankName">NOMBRE</label>
                        <input type="text" id="rankName" required>
                    </div>
                    <div class="form-group">
                        <label for="rankScale">ESCALAFÓN</label>
                        <input type="text" id="rankScale" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelRankBtn">CANCELAR</button>
                <button class="btn btn-success" id="saveRankBtn">GUARDAR RANGO</button>
            </div>
        </div>
    </div>

    <!-- Pilot Profile Modal -->
    <div id="pilotProfileModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>Perfil del Piloto</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label>PILOTO</label>
                        <input type="text" value="John Doe" readonly>
                    </div>
                    <div class="form-group">
                        <label>NUIM</label>
                        <input type="text" value="LSF-001" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>RANGO</label>
                        <input type="text" value="Capitán" readonly>
                    </div>
                    <div class="form-group">
                        <label>EMAIL</label>
                        <input type="text" value="john_doe@lsaf.gov.us" readonly>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4>FICHA DEL PILOTO</h4>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-edit"></i> EDITAR FICHA
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label>FECHA DE NACIMIENTO</label>
                                <input type="text" value="15/05/1985" readonly>
                            </div>
                            <div class="form-group">
                                <label>TIPO DE SANGRE</label>
                                <input type="text" value="O+" readonly>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>NACIONALIDAD</label>
                            <input type="text" value="Estadounidense" readonly>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4>ASCENSOS Y DESCENSOS</h4>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-plus"></i> AÑADIR ASCENSO/DESCENSO
                        </button>
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Rango</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>15/03/2023</td>
                                    <td>Capitán</td>
                                </tr>
                                <tr>
                                    <td>10/08/2021</td>
                                    <td>Teniente</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4>LIBROS DE VUELO RELACIONADOS</h4>
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Libro de Vuelo</th>
                                    <th>Aeronave</th>
                                    <th>Fecha</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>FZ-00015</td>
                                    <td>F-16</td>
                                    <td>20/06/2024</td>
                                </tr>
                                <tr>
                                    <td>FZ-00012</td>
                                    <td>C-130</td>
                                    <td>15/05/2024</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4>SOLICITUDES RELACIONADAS</h4>
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Solicitud</th>
                                    <th>Aeronave</th>
                                    <th>Fecha</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AETC-00005</td>
                                    <td>F-16</td>
                                    <td>10/06/2024</td>
                                    <td><span class="badge badge-success">Certificado</span></td>
                                </tr>
                                <tr>
                                    <td>AETC-00003</td>
                                    <td>UH-60</td>
                                    <td>05/05/2024</td>
                                    <td><span class="badge badge-warning">En proceso</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4>RESUMEN DE TIEMPOS</h4>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>TIEMPO TOTAL DE VUELO</label>
                            <input type="text" value="150 horas" readonly>
                        </div>
                        <h5 style="margin: 15px 0 10px;">Tiempo por Aeronave</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Aeronave</th>
                                    <th>Tiempo Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>F-16 Fighting Falcon</td>
                                    <td>80 horas</td>
                                </tr>
                                <tr>
                                    <td>C-130 Hercules</td>
                                    <td>40 horas</td>
                                </tr>
                                <tr>
                                    <td>UH-60 Black Hawk</td>
                                    <td>30 horas</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="editPilotProfileBtn">
                    <i class="fas fa-edit"></i> EDITAR PILOTO
                </button>
            </div>
        </div>
    </div>

    <script>
        // Datos de ejemplo para la demostración
        const demoData = {
            pilots: [
                { id: 1, name: "John Doe", nuim: "LSF-001", rank: "Capitán", email: "john_doe@lsaf.gov.us", status: "ACTIVO", role: "PILOTO" },
                { id: 2, name: "Jane Smith", nuim: "LSF-002", rank: "Teniente", email: "jane_smith@lsaf.gov.us", status: "ACTIVO", role: "INSTRUCTOR" },
                { id: 3, name: "Robert Johnson", nuim: "LSF-003", rank: "Mayor", email: "robert_johnson@lsaf.gov.us", status: "ARCHIVADO", role: "PILOTO" },
                { id: 4, name: "Maria Garcia", nuim: "LSF-004", rank: "Coronel", email: "maria_garcia@lsaf.gov.us", status: "ACTIVO", role: "ADMIN" }
            ],
            aircraft: [
                { id: 1, callsign: "FALCON01", model: "F-16 Fighting Falcon" },
                { id: 2, callsign: "HERC01", model: "C-130 Hercules" },
                { id: 3, callsign: "HAWK01", model: "UH-60 Black Hawk" },
                { id: 4, callsign: "TEXAN01", model: "T-6 Texan II" }
            ],
            flightLogs: [
                { id: 1, number: "FZ-00015", aircraft: "F-16", date: "20/06/2024", pilot: "John Doe", totalTime: "2.5 horas" },
                { id: 2, number: "FZ-00014", aircraft: "C-130", date: "18/06/2024", pilot: "Jane Smith", totalTime: "4.0 horas" },
                { id: 3, number: "FZ-00013", aircraft: "UH-60", date: "15/06/2024", pilot: "Maria Garcia", totalTime: "1.5 horas" },
                { id: 4, number: "FZ-00012", aircraft: "T-6", date: "10/06/2024", pilot: "John Doe", totalTime: "3.0 horas" }
            ],
            requests: [
                { id: 1, number: "AETC-00005", pilot: "John Doe", aircraft: "F-16", date: "10/06/2024", availability: "Lunes a Viernes 8:00-16:00", status: "Certificado" },
                { id: 2, number: "AETC-00004", pilot: "Jane Smith", aircraft: "C-130", date: "08/06/2024", availability: "Martes y Jueves 10:00-14:00", status: "Tomada por Robert Johnson" },
                { id: 3, number: "AETC-00003", pilot: "Robert Johnson", aircraft: "UH-60", date: "05/06/2024", availability: "Miércoles 9:00-12:00", status: "Pendiente" },
                { id: 4, number: "AETC-00002", pilot: "Maria Garcia", aircraft: "T-6", date: "01/06/2024", availability: "Lunes a Viernes 7:00-15:00", status: "Certificado" }
            ],
            ranks: [
                { id: 1, name: "General", scale: "O-10" },
                { id: 2, name: "Coronel", scale: "O-6" },
                { id: 3, name: "Mayor", scale: "O-4" },
                { id: 4, name: "Capitán", scale: "O-3" },
                { id: 5, name: "Teniente", scale: "O-2" },
                { id: 6, name: "Subteniente", scale: "O-1" }
            ]
        };

        // Estado de la aplicación
        let appState = {
            currentUser: null,
            currentView: 'pilotsView',
            agreedToCharter: false
        };

        // Inicialización de la aplicación
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar eventos de login
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // Configurar eventos de navegación
            document.querySelectorAll('.sidebar-menu a[data-view]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const viewId = this.getAttribute('data-view');
                    showView(viewId);
                });
            });
            
            // Configurar botón de logout
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                logout();
            });
            
            // Configurar botones de agregar
            document.getElementById('addPilotBtn').addEventListener('click', () => showModal('addPilotModal'));
            document.getElementById('addAircraftBtn').addEventListener('click', () => showModal('addAircraftModal'));
            document.getElementById('addFlightLogBtn').addEventListener('click', () => showModal('addFlightLogModal'));
            document.getElementById('addRequestBtn').addEventListener('click', () => showModal('addRequestModal'));
            document.getElementById('addRankBtn').addEventListener('click', () => showModal('addRankModal'));
            
            // Configurar botones de cerrar modal
            document.querySelectorAll('.close').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });
            
            // Configurar botones de cancelar
            document.getElementById('cancelPilotBtn').addEventListener('click', () => hideModal('addPilotModal'));
            document.getElementById('cancelAircraftBtn').addEventListener('click', () => hideModal('addAircraftModal'));
            document.getElementById('cancelFlightLogBtn').addEventListener('click', () => hideModal('addFlightLogModal'));
            document.getElementById('cancelRequestBtn').addEventListener('click', () => hideModal('addRequestModal'));
            document.getElementById('cancelRankBtn').addEventListener('click', () => hideModal('addRankModal'));
            
            // Configurar botones de guardar
            document.getElementById('savePilotBtn').addEventListener('click', savePilot);
            document.getElementById('saveAircraftBtn').addEventListener('click', saveAircraft);
            document.getElementById('saveFlightLogBtn').addEventListener('click', saveFlightLog);
            document.getElementById('saveRequestBtn').addEventListener('click', saveRequest);
            document.getElementById('saveRankBtn').addEventListener('click', saveRank);
            
            // Configurar botones de acuerdo con la carta
            document.getElementById('agreeBtn').addEventListener('click', function() {
                appState.agreedToCharter = true;
                document.getElementById('saveRequestBtn').disabled = false;
                this.classList.add('btn-success');
                document.getElementById('disagreeBtn').classList.remove('btn-danger');
            });
            
            document.getElementById('disagreeBtn').addEventListener('click', function() {
                appState.agreedToCharter = false;
                document.getElementById('saveRequestBtn').disabled = true;
                alert('Debe estar de acuerdo con la carta de compromiso');
                this.classList.add('btn-danger');
                document.getElementById('agreeBtn').classList.remove('btn-success');
            });
            
            // Configurar cálculo de tiempo de vuelo
            document.getElementById('flightLogTakeoff').addEventListener('change', calculateFlightTime);
            document.getElementById('flightLogLanding').addEventListener('change', calculateFlightTime);
            
            // Cargar datos de ejemplo
            loadPilots();
            loadAircraft();
            loadFlightLogs();
            loadRequests();
            loadRanks();
        });

        // Funciones de la aplicación
        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Verificación simple para demo
            if (username === 'admin' && password === 'lsaf2024') {
                appState.currentUser = { name: 'Administrador', role: 'ADMIN', rank: 'General' };
                document.getElementById('loginView').style.display = 'none';
                document.getElementById('appView').style.display = 'flex';
                document.getElementById('userName').textContent = appState.currentUser.name;
            } else {
                alert('Usuario o contraseña incorrectos. Use admin / lsaf2024 para la demo.');
            }
        }

        function logout() {
            appState.currentUser = null;
            document.getElementById('loginView').style.display = 'flex';
            document.getElementById('appView').style.display = 'none';
            document.getElementById('loginForm').reset();
        }

        function showView(viewId) {
            // Ocultar todas las vistas
            document.querySelectorAll('.view').forEach(view => {
                view.style.display = 'none';
            });
            
            // Mostrar la vista seleccionada
            document.getElementById(viewId).style.display = 'block';
            
            // Actualizar el título de la página
            const titles = {
                'pilotsView': 'Pilotos',
                'aircraftView': 'Aeronaves',
                'flightLogsView': 'Libros de Vuelo',
                'requestsView': 'Solicitudes',
                'summaryView': 'Resumen',
                'ranksView': 'Rangos'
            };
            
            document.getElementById('pageTitle').textContent = titles[viewId] || 'LSAF';
            
            // Actualizar la navegación activa
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelector(`.sidebar-menu a[data-view="${viewId}"]`).classList.add('active');
            
            appState.currentView = viewId;
        }

        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function loadPilots() {
            const pilotsList = document.getElementById('pilotsList');
            pilotsList.innerHTML = '';
            
            demoData.pilots.forEach(pilot => {
                const pilotCard = document.createElement('div');
                pilotCard.className = 'pilot-card';
                pilotCard.innerHTML = `
                    <div class="pilot-rank">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="pilot-info">
                        <div class="pilot-name">${pilot.name}</div>
                        <div class="pilot-nuim">${pilot.nuim}</div>
                    </div>
                    <div class="badge ${pilot.status === 'ACTIVO' ? 'badge-success' : 'badge-danger'}">
                        ${pilot.status}
                    </div>
                `;
                
                pilotCard.addEventListener('click', () => showPilotProfile(pilot.id));
                pilotsList.appendChild(pilotCard);
            });
        }

        function loadAircraft() {
            const aircraftList = document.getElementById('aircraftList');
            aircraftList.innerHTML = '';
            
            demoData.aircraft.forEach(aircraft => {
                const aircraftCard = document.createElement('div');
                aircraftCard.className = 'aircraft-card';
                aircraftCard.innerHTML = `
                    <div class="aircraft-image">
                        <i class="fas fa-plane fa-3x"></i>
                    </div>
                    <div class="aircraft-info">
                        <div class="aircraft-callsign">${aircraft.callsign}</div>
                        <div class="aircraft-model">${aircraft.model}</div>
                        <div class="btn-group" style="margin-top: 10px;">
                            <button class="btn btn-primary btn-sm edit-aircraft" data-id="${aircraft.id}">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            <button class="btn btn-danger btn-sm delete-aircraft" data-id="${aircraft.id}">
                                <i class="fas fa-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>
                `;
                
                aircraftList.appendChild(aircraftCard);
            });
        }

        function loadFlightLogs() {
            const flightLogsTable = document.getElementById('flightLogsTable');
            flightLogsTable.innerHTML = '';
            
            demoData.flightLogs.forEach(log => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${log.number}</td>
                    <td>${log.aircraft}</td>
                    <td>${log.date}</td>
                    <td>${log.pilot}</td>
                    <td>${log.totalTime}</td>
                `;
                flightLogsTable.appendChild(row);
            });
        }

        function loadRequests() {
            const requestsTable = document.getElementById('requestsTable');
            requestsTable.innerHTML = '';
            
            demoData.requests.forEach(request => {
                let statusBadge = '';
                if (request.status === 'Certificado') {
                    statusBadge = '<span class="badge badge-success">Certificado</span>';
                } else if (request.status.includes('Tomada por')) {
                    statusBadge = `<span class="badge badge-warning">${request.status}</span>`;
                } else {
                    statusBadge = '<span class="badge badge-danger">Pendiente</span>';
                }
                
                let actions = '';
                if (request.status === 'Pendiente') {
                    actions = `<button class="btn btn-primary btn-sm take-request" data-id="${request.id}">Tomar Solicitud</button>`;
                } else if (request.status.includes('Tomada por')) {
                    actions = `<button class="btn btn-success btn-sm certify-request" data-id="${request.id}">Certificar</button>`;
                } else {
                    actions = '<span>Completado</span>';
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${request.number}</td>
                    <td>${request.pilot}</td>
                    <td>${request.aircraft}</td>
                    <td>${request.date}</td>
                    <td>${request.availability}</td>
                    <td>${statusBadge} ${actions}</td>
                `;
                requestsTable.appendChild(row);
            });
        }

        function loadRanks() {
            const ranksList = document.getElementById('ranksList');
            ranksList.innerHTML = '';
            
            demoData.ranks.forEach(rank => {
                const rankCard = document.createElement('div');
                rankCard.className = 'aircraft-card';
                rankCard.innerHTML = `
                    <div class="aircraft-image">
                        <i class="fas fa-star fa-3x"></i>
                    </div>
                    <div class="aircraft-info">
                        <div class="aircraft-callsign">${rank.name}</div>
                        <div class="aircraft-model">Escalafón: ${rank.scale}</div>
                        <div class="btn-group" style="margin-top: 10px;">
                            <button class="btn btn-primary btn-sm edit-rank" data-id="${rank.id}">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            <button class="btn btn-danger btn-sm delete-rank" data-id="${rank.id}">
                                <i class="fas fa-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>
                `;
                
                ranksList.appendChild(rankCard);
            });
        }

        function showPilotProfile(pilotId) {
            const pilot = demoData.pilots.find(p => p.id === pilotId);
            if (pilot) {
                showModal('pilotProfileModal');
            }
        }

        function calculateFlightTime() {
            const takeoff = document.getElementById('flightLogTakeoff').value;
            const landing = document.getElementById('flightLogLanding').value;
            
            if (takeoff && landing) {
                const takeoffTime = new Date(takeoff);
                const landingTime = new Date(landing);
                
                // Verificar si las fechas son válidas
                if (landingTime <= takeoffTime) {
                    document.getElementById('flightLogTotalTime').value = 'Fecha incorrecta';
                    return;
                }
                
                const diffMs = landingTime - takeoffTime;
                const diffHours = diffMs / (1000 * 60 * 60);
                
                document.getElementById('flightLogTotalTime').value = `${diffHours.toFixed(2)} horas`;
            }
        }

        function savePilot() {
            const name = document.getElementById('pilotName').value;
            const email = document.getElementById('pilotEmail').value;
            const nuim = document.getElementById('pilotNUIM').value;
            const joinDate = document.getElementById('pilotJoinDate').value;
            const role = document.getElementById('pilotRole').value;
            const status = document.getElementById('pilotStatus').value;
            
            // Validación básica
            if (!name || !email || !nuim || !joinDate || !role) {
                alert('Por favor, complete todos los campos obligatorios.');
                return;
            }
            
            // En una implementación real, aquí enviaríamos los datos a Google Sheets
            alert(`Piloto ${name} guardado correctamente.`);
            hideModal('addPilotModal');
            document.getElementById('addPilotForm').reset();
            
            // Recargar la lista de pilotos
            loadPilots();
        }

        function saveAircraft() {
            const callsign = document.getElementById('aircraftCallsign').value;
            const model = document.getElementById('aircraftModel').value;
            
            if (!callsign || !model) {
                alert('Por favor, complete todos los campos obligatorios.');
                return;
            }
            
            alert(`Aeronave ${callsign} guardada correctamente.`);
            hideModal('addAircraftModal');
            document.getElementById('addAircraftForm').reset();
            
            loadAircraft();
        }

        function saveFlightLog() {
            const takeoff = document.getElementById('flightLogTakeoff').value;
            const landing = document.getElementById('flightLogLanding').value;
            const totalTime = document.getElementById('flightLogTotalTime').value;
            
            if (totalTime === 'Fecha incorrecta') {
                alert('Las fechas de despegue y aterrizaje no son válidas. Verifique que la hora de aterrizaje sea posterior a la de despegue.');
                return;
            }
            
            if (!takeoff || !landing) {
                alert('Por favor, complete las fechas de despegue y aterrizaje.');
                return;
            }
            
            alert('Libro de vuelo registrado correctamente.');
            hideModal('addFlightLogModal');
            document.getElementById('addFlightLogForm').reset();
            
            loadFlightLogs();
        }

        function saveRequest() {
            if (!appState.agreedToCharter) {
                alert('Debe estar de acuerdo con la carta de compromiso.');
                return;
            }
            
            const aircraft = document.getElementById('requestAircraft').value;
            const availability = document.getElementById('requestAvailability').value;
            
            if (!aircraft || !availability) {
                alert('Por favor, complete todos los campos obligatorios.');
                return;
            }
            
            alert('Solicitud enviada correctamente.');
            hideModal('addRequestModal');
            document.getElementById('addRequestForm').reset();
            document.getElementById('saveRequestBtn').disabled = true;
            appState.agreedToCharter = false;
            
            loadRequests();
        }

        function saveRank() {
            const name = document.getElementById('rankName').value;
            const scale = document.getElementById('rankScale').value;
            
            if (!name || !scale) {
                alert('Por favor, complete todos los campos obligatorios.');
                return;
            }
            
            alert(`Rango ${name} guardado correctamente.`);
            hideModal('addRankModal');
            document.getElementById('addRankForm').reset();
            
            loadRanks();
        }
    </script>
</body>
</html>
